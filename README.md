Amazon 商品データ分析ポートフォリオ（SQL/Python）

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
1. 背景・目的

ECサイトでは、一部の人気商品が売上やレビュー数の大半を占める
「ロングテール構造」が存在すると言われています。

本分析では、Amazonの商品レビューデータを用いて、

・商品単位での集計設計
・レビュー数を基準とした人気度定義
・人気度分布の可視化と解釈

を行い、データの粒度・集計設計を意識した分析プロセスを示すことを目的としています。

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
2. 使用データ

データ形式：CSV
元データ：Amazon商品レビュー情報（公開データ）

■使用カラム（最小構成）
カラム名	説明

product_id		    ：商品ID
category			    ：商品カテゴリ
discounted_price	：割引後価格
rating				    ：評価点
rating_count		  ：レビュー数

※ 元データ（amazon.csv）はサイズおよび利用条件の観点から本リポジトリには含めていません。
前処理スクリプト（preprocessing.py）を実行することで、同形式の分析用データを再生成可能な設計としています。

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
3. 分析環境

■SQL
・MySQL

■Python
・Python 3.x
・pandas
・numpy
・matplotlib

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
4. フォルダ構成

portfolio/
├── data/
│   ├── raw/
│   │   └── sample_amazon.csv
│   └── processed/
│       └── product_summary.csv
├── src/
│   ├── preprocessing.py
│   ├── analysis.py
│   └── sql/
│       ├── 01_preprocessing.sql
│       └── 02_analysis.sql
└── README.md


※ data/raw および data/processed は .gitignore によりGitHub管理対象外としています。

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
5. 分析手順
5.1 前処理・集計（preprocessing）

■目的
・分析に必要な最小限のカラムに絞る
・商品単位（1行 = 1商品）の粒度を明確に定義する

■処理内容
・CSVデータの読み込み
・使用カラムの選択
・価格・評価・レビュー数の数値変換
・商品単位での集計

■集計後の粒度
・粒度：商品単位
・指標：
平均割引価格（avg_price）
平均評価（avg_rating）
レビュー数合計（review_count）

■対応ファイル
・SQL：01_preprocessing.sql
・Python：preprocessing.py

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
5.2 人気度ランクの定義

レビュー数を基準に、以下のルールで人気度ランクを定義しました。

ランク	：条件

A  ：review_count ≥ 1000
B  ：review_count ≥ 300
C  ：上記未満

この処理は、SQLのCASE WHEN に相当するロジックをpandasで再現しています。

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
5.3 分布分析・可視化（analysis.py）

・人気度ランク別に基本統計量を集計
・ランク順（A → B → C）を明示的に固定
・レビュー数（平均値）を棒グラフで可視化

■対応ファイル：analysis.py
ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
6. 分析結果

・商品数ベースでは、B / C ランクの商品が多数を占める
・一方で、レビュー数の平均値は A ランクが大きく突出
・一部の人気商品がレビュー数の大半を占めていることが確認できる

ｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰｰ
7. 考察

本データでは、
一部の商品がレビュー数を極端に集める「ロングテール構造」が確認されました。そのため

・商品数の比較
・影響度（レビュー数）の比較

を分けて考える必要があります。

分析においては、単純な平均値比較だけでなく、分布の歪みを前提とした指標と解釈が重要であると考えます。

8. 工夫した点

・集計粒度（1行 = 1商品）を明確に定義
・SQLで分析設計を行い、Pythonで同一ロジックを再現
・元データと集計後データを分離し、再現性を担保
・分析結果に対する解釈を文章として明示

本分析は、業務で培ったSQLを用いた集計設計・粒度意識をPython（pandas）でも再現できることを意識して作成しています。
